"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[4881],{105:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"depurar-storage","title":"T\xe9cnicas de Depuraci\xf3n para Storage","description":"La depuraci\xf3n efectiva de problemas relacionados con el almacenamiento del navegador requiere un conjunto de t\xe9cnicas y conocimientos espec\xedficos. Esta secci\xf3n presenta estrategias avanzadas para identificar, analizar y resolver problemas comunes relacionados con las diferentes tecnolog\xedas de almacenamiento.","source":"@site/storage/depurar-storage.md","sourceDirName":".","slug":"/depurar-storage","permalink":"/storage/depurar-storage","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"depurar-storage","sidebar_position":8},"sidebar":"docs","previous":{"title":"\u270f\ufe0f Editar Datos","permalink":"/storage/editar-datos"}}');var i=n(4848),s=n(8453);n(8335),n(6562);const o={id:"depurar-storage",sidebar_position:8},c="T\xe9cnicas de Depuraci\xf3n para Storage",l={},d=[{value:"Herramientas integradas para depuraci\xf3n",id:"herramientas-integradas-para-depuraci\xf3n",level:2},{value:"Panel de Storage",id:"panel-de-storage",level:3},{value:"Console API para Storage",id:"console-api-para-storage",level:3},{value:"Breakpoints para operaciones de Storage",id:"breakpoints-para-operaciones-de-storage",level:3},{value:"Metodolog\xeda sistem\xe1tica de depuraci\xf3n",id:"metodolog\xeda-sistem\xe1tica-de-depuraci\xf3n",level:2},{value:"1. Identificar el problema",id:"1-identificar-el-problema",level:3},{value:"2. Aislar la tecnolog\xeda de almacenamiento",id:"2-aislar-la-tecnolog\xeda-de-almacenamiento",level:3},{value:"3. Monitorear operaciones de almacenamiento",id:"3-monitorear-operaciones-de-almacenamiento",level:3},{value:"4. Verificar el contexto de ejecuci\xf3n",id:"4-verificar-el-contexto-de-ejecuci\xf3n",level:3},{value:"Depuraci\xf3n por escenarios comunes",id:"depuraci\xf3n-por-escenarios-comunes",level:2},{value:"Problemas de cuota excedida",id:"problemas-de-cuota-excedida",level:3},{value:"Ejemplos de depuraci\xf3n en escenarios",id:"ejemplos-de-depuraci\xf3n-en-escenarios",level:3},{value:"Problema: Datos no se est\xe1n guardando",id:"problema-datos-no-se-est\xe1n-guardando",level:4},{value:"Problema: Datos aparecen corruptos",id:"problema-datos-aparecen-corruptos",level:4},{value:"Problema: Rendimiento lento al acceder a datos",id:"problema-rendimiento-lento-al-acceder-a-datos",level:4},{value:"Problema: Error de CORS o restricciones de acceso",id:"problema-error-de-cors-o-restricciones-de-acceso",level:4},{value:"Resumen",id:"resumen",level:2}];function t(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"t\xe9cnicas-de-depuraci\xf3n-para-storage",children:"T\xe9cnicas de Depuraci\xf3n para Storage"})}),"\n",(0,i.jsx)(a.p,{children:"La depuraci\xf3n efectiva de problemas relacionados con el almacenamiento del navegador requiere un conjunto de t\xe9cnicas y conocimientos espec\xedficos. Esta secci\xf3n presenta estrategias avanzadas para identificar, analizar y resolver problemas comunes relacionados con las diferentes tecnolog\xedas de almacenamiento."}),"\n",(0,i.jsx)(a.h2,{id:"herramientas-integradas-para-depuraci\xf3n",children:"Herramientas integradas para depuraci\xf3n"}),"\n",(0,i.jsx)(a.p,{children:"El inspector de elementos ofrece varias herramientas espec\xedficas para depurar el almacenamiento:"}),"\n",(0,i.jsx)(a.h3,{id:"panel-de-storage",children:"Panel de Storage"}),"\n",(0,i.jsx)(a.p,{children:"Proporciona una vista unificada de todos los mecanismos de almacenamiento:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Cookies"}),"\n",(0,i.jsx)(a.li,{children:"Local & Session Storage"}),"\n",(0,i.jsx)(a.li,{children:"IndexedDB"}),"\n",(0,i.jsx)(a.li,{children:"Web SQL (obsoleto pero a\xfan soportado)"}),"\n",(0,i.jsx)(a.li,{children:"Cache Storage"}),"\n",(0,i.jsx)(a.li,{children:"Application Cache (obsoleto)"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"console-api-para-storage",children:"Console API para Storage"}),"\n",(0,i.jsx)(a.p,{children:"Utiliza la consola para interactuar directamente con APIs de almacenamiento:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-javascript",children:"// LocalStorage\r\nlocalStorage.getItem('key');\r\nlocalStorage.setItem('key', 'value');\r\n\r\n// Cookies\r\ndocument.cookie;\r\n\r\n// IndexedDB (as\xedncrono)\r\nconst request = indexedDB.open('myDatabase');\r\nrequest.onsuccess = (event) => {\r\n  const db = event.target.result;\r\n  console.log('Database opened successfully', db);\r\n};\n"})}),"\n",(0,i.jsx)(a.h3,{id:"breakpoints-para-operaciones-de-storage",children:"Breakpoints para operaciones de Storage"}),"\n",(0,i.jsx)(a.p,{children:"En el panel Sources, puedes establecer puntos de interrupci\xf3n en:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Eventos de almacenamiento (Storage events)"}),"\n",(0,i.jsx)(a.li,{children:"Operaciones DOM espec\xedficas"}),"\n",(0,i.jsx)(a.li,{children:"Funciones espec\xedficas que manipulan datos almacenados"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"metodolog\xeda-sistem\xe1tica-de-depuraci\xf3n",children:"Metodolog\xeda sistem\xe1tica de depuraci\xf3n"}),"\n",(0,i.jsx)(a.h3,{id:"1-identificar-el-problema",children:"1. Identificar el problema"}),"\n",(0,i.jsx)(a.p,{children:"Comienza por determinar la naturaleza exacta del problema:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"\xbfLos datos no se est\xe1n guardando?"}),"\n",(0,i.jsx)(a.li,{children:"\xbfLos datos se pierden inesperadamente?"}),"\n",(0,i.jsx)(a.li,{children:"\xbfLos datos son incorrectos o est\xe1n corruptos?"}),"\n",(0,i.jsx)(a.li,{children:"\xbfHay problemas de rendimiento al acceder a los datos?"}),"\n",(0,i.jsx)(a.li,{children:"\xbfExiste alg\xfan problema de cuota o l\xedmite?"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"2-aislar-la-tecnolog\xeda-de-almacenamiento",children:"2. Aislar la tecnolog\xeda de almacenamiento"}),"\n",(0,i.jsx)(a.p,{children:"Cada tecnolog\xeda tiene comportamientos y limitaciones particulares:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Cookies"}),": Verifique l\xedmites de tama\xf1o, configuraci\xf3n de dominios, o problemas SameSite"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"LocalStorage/SessionStorage"}),": Comprobar cuotas, problemas de serializaci\xf3n"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"IndexedDB"}),": Verificar transacciones abortadas, problemas de versiones"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Cache Storage"}),": Comprobar respuestas en cach\xe9 obsoletas o incorrectas"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"3-monitorear-operaciones-de-almacenamiento",children:"3. Monitorear operaciones de almacenamiento"}),"\n",(0,i.jsx)(a.p,{children:"Utiliza el panel Network y Console para rastrear actividad:"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsx)(a.li,{children:'Activa "Preserve log" en la consola'}),"\n",(0,i.jsx)(a.li,{children:"Filtra por operaciones de almacenamiento relevantes"}),"\n",(0,i.jsx)(a.li,{children:"Observa errores o advertencias relacionadas con cuotas, permisos o formatos"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"4-verificar-el-contexto-de-ejecuci\xf3n",children:"4. Verificar el contexto de ejecuci\xf3n"}),"\n",(0,i.jsx)(a.p,{children:"Los problemas pueden estar relacionados con el contexto:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Pol\xedtica Same-Origin"}),": Verifica si hay restricciones de CORS"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Modo Inc\xf3gnito/Privado"}),": El almacenamiento puede estar limitado"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"iframes"}),": Pueden tener acceso restringido al almacenamiento"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Service Workers"}),": Pueden interceptar solicitudes y utilizar cach\xe9 alternativa"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"depuraci\xf3n-por-escenarios-comunes",children:"Depuraci\xf3n por escenarios comunes"}),"\n",(0,i.jsx)(a.h3,{id:"problemas-de-cuota-excedida",children:"Problemas de cuota excedida"}),"\n",(0,i.jsx)(a.p,{children:"Cuando las aplicaciones alcanzan l\xedmites de almacenamiento:"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsx)(a.li,{children:"Verifica el uso actual y los l\xedmites:"}),"\n"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-javascript",children:'// Estimar tama\xf1o de LocalStorage\r\nfunction getLocalStorageSize() {\r\n  let totalSize = 0;\r\n  for (let key in localStorage) {\r\n    if (localStorage.hasOwnProperty(key)) {\r\n      totalSize += localStorage[key].length + key.length;\r\n    }\r\n  }\r\n  return (totalSize / 1024).toFixed(2) + " KB";\r\n}\r\nconsole.log("LocalStorage usado:", getLocalStorageSize());\r\n\r\n// Verificar espacio disponible en IndexedDB (aproximado)\r\nif (navigator.storage && navigator.storage.estimate) {\r\n  navigator.storage.estimate().then(estimate => {\r\n    console.log("Uso total:", (estimate.usage / 1024 / 1024).toFixed(2) + " MB");\r\n    console.log("Cuota:", (estimate.quota / 1024 / 1024).toFixed(2) + " MB");\r\n    console.log("Porcentaje usado:", ((estimate.usage / estimate.quota) * 100).toFixed(2) + "%");\r\n  });\r\n}\n'})}),"\n",(0,i.jsxs)(a.ol,{start:"2",children:["\n",(0,i.jsxs)(a.li,{children:["Implementa estrategias de gesti\xf3n de almacenamiento:","\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Elimina datos antiguos o innecesarios"}),"\n",(0,i.jsx)(a.li,{children:"Comprime datos cuando sea posible"}),"\n",(0,i.jsx)(a.li,{children:"Divide grandes conjuntos de datos en fragmentos m\xe1s peque\xf1os"}),"\n",(0,i.jsx)(a.li,{children:"Utiliza t\xe9cnicas de expiraci\xf3n para cookies y LocalStorage, estableciendo fechas de caducidad"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"ejemplos-de-depuraci\xf3n-en-escenarios",children:"Ejemplos de depuraci\xf3n en escenarios"}),"\n",(0,i.jsx)(a.h4,{id:"problema-datos-no-se-est\xe1n-guardando",children:"Problema: Datos no se est\xe1n guardando"}),"\n",(0,i.jsx)(a.p,{children:"Verifique las operaciones:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Aseg\xfarate de que las funciones de almacenamiento est\xe1n siendo ejecutadas."}),"\n",(0,i.jsx)(a.li,{children:"Usa console.log() para comprobar si los valores se est\xe1n guardando correctamente."}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Revisa restricciones del navegador:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Verifica si hay bloqueadores de cookies o configuraciones de privacidad que impiden el almacenamiento."}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"problema-datos-aparecen-corruptos",children:"Problema: Datos aparecen corruptos"}),"\n",(0,i.jsx)(a.p,{children:"Verificar la serializaci\xf3n:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Aseg\xfarate de que los objetos se est\xe1n serializando y deserializando de manera correcta. Puedes utilizar JSON.stringify() y JSON.parse() para simplificar."}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Prueba en diferentes navegadores:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Algunos navegadores pueden manejar ciertos tipos de datos de manera diferente."}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"problema-rendimiento-lento-al-acceder-a-datos",children:"Problema: Rendimiento lento al acceder a datos"}),"\n",(0,i.jsx)(a.p,{children:"Optimizaci\xf3n de datos:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Verifica el tama\xf1o y la complejidad de los datos que est\xe1s almacenando."}),"\n",(0,i.jsx)(a.li,{children:"Considera la posibilidad de almacenar solo datos necesarios y recuperar datos adicionales bajo demanda."}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"problema-error-de-cors-o-restricciones-de-acceso",children:"Problema: Error de CORS o restricciones de acceso"}),"\n",(0,i.jsx)(a.p,{children:"Pol\xedtica Same-Origin:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Comprueba que las solicitudes se realicen al mismo dominio o ajusta los encabezados CORS en el servidor."}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Uso correcto de iframes:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Si est\xe1s utilizando iframes, aseg\xfarate de que el acceso al almacenamiento local se est\xe1 gestionando adecuadamente."}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"resumen",children:"Resumen"}),"\n",(0,i.jsx)(a.p,{children:"La depuraci\xf3n del almacenamiento en el navegador puede ser un proceso t\xe9cnico, pero con las herramientas adecuadas y un enfoque sistem\xe1tico puedes identificar y resolver problemas de manera efectiva. Recuerda:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Utilizar el Panel de Storage y la Console API."}),"\n",(0,i.jsx)(a.li,{children:"Aplicar una metodolog\xeda sistem\xe1tica de depuraci\xf3n que incluya identificaci\xf3n, aislamiento y monitoreo del problema."}),"\n",(0,i.jsx)(a.li,{children:"Implementar estrategias de gesti\xf3n de almacenamiento para evitar problemas de cuota."}),"\n",(0,i.jsx)(a.li,{children:"Estar al tanto de las restricciones del contexto y las pol\xedticas de seguridad que puedan afectar el almacenamiento."}),"\n"]})]})}function m(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},6562:(e,a,n)=>{n.d(a,{A:()=>i});n(6540);var r=n(4848);const i=function(e){return(0,r.jsx)("docs-cards",{class:e.className,children:e.children})}},8335:(e,a,n)=>{n.d(a,{A:()=>l});n(6540);var r=n(4164),i=n(6289),s=n(9030);const o="card_HCHm";var c=n(4848);const l=function(e){const a=void 0===e.href,n=void 0!==e.href&&/^http/.test(e.href),l="undefined"===e.header?null:(0,c.jsx)("header",{className:"Card-header",children:e.header}),d=e.hoverIcon||e.icon,t=(0,c.jsxs)(c.Fragment,{children:[e.img&&(0,c.jsx)("img",{src:(0,s.Ay)(e.img),className:"Card-image"}),(0,c.jsxs)("div",{className:"Card-container",children:[(e.icon||d)&&(0,c.jsxs)("div",{className:"Card-icon-row",children:[e.icon&&(0,c.jsx)("img",{src:(0,s.Ay)(e.icon),className:"Card-icon Card-icon-default"}),d&&(0,c.jsx)("img",{src:(0,s.Ay)(d),className:"Card-icon Card-icon-hover"})]}),e.ionicon&&(0,c.jsx)("ion-icon",{name:e.ionicon,className:"Card-ionicon"}),e.iconset&&(0,c.jsx)("div",{className:"Card-iconset__container",children:e.iconset.split(",").map(((a,n)=>(0,c.jsx)("img",{src:(0,s.Ay)(a),className:"Card-icon "+(n===e.activeIndex?"Card-icon-active":""),"data-index":n},n)))}),e.header&&l,(0,c.jsx)("div",{className:"Card-content",children:e.children})]})]}),m=(0,r.A)({"Card-with-image":void 0!==e.img,"Card-without-image":void 0===e.img,"Card-size-lg":"lg"===e.size,[e.className]:e.className});return a?(0,c.jsx)("docs-card",{class:m,children:(0,c.jsx)("div",{className:(0,r.A)(o,"docs-card"),children:t})}):n?(0,c.jsx)("docs-card",{class:m,children:(0,c.jsx)("a",{className:(0,r.A)(o,"docs-card"),href:e.href,target:"_blank",children:t})}):(0,c.jsx)("docs-card",{class:m,children:(0,c.jsx)(i.A,{to:e.href,className:(0,r.A)(o,"docs-card"),children:t})})}},8453:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>c});var r=n(6540);const i={},s=r.createContext(i);function o(e){const a=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:a},e.children)}}}]);