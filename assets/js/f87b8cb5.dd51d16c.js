"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[7282],{3347:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/indexeddb-1-52742896e753313fef4036267f3f0fa0.png"},4960:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"indexeddb","title":"IndexedDB","description":"IndexedDB es una API de almacenamiento del lado del cliente que permite almacenar grandes cantidades de datos estructurados, incluyendo archivos y blobs. Proporciona capacidades de b\xfasqueda avanzada y es ideal para aplicaciones offline.","source":"@site/application/indexeddb.md","sourceDirName":".","slug":"/indexeddb","permalink":"/application/indexeddb","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"indexeddb","sidebar_position":6},"sidebar":"docs","previous":{"title":"\ud83d\udce6 LocalStorage & SessionStorage","permalink":"/application/localstorage-sessionstorage"},"next":{"title":"\ud83c\udf6a Cookies","permalink":"/application/cookies"}}');var i=s(4848),r=s(8453);const d={id:"indexeddb",sidebar_position:6},l="IndexedDB",c={},t=[{value:"Acceso al panel de IndexedDB",id:"acceso-al-panel-de-indexeddb",level:2},{value:"Estructura y componentes",id:"estructura-y-componentes",level:2},{value:"Interfaz del panel",id:"interfaz-del-panel",level:2},{value:"Navegaci\xf3n de bases de datos",id:"navegaci\xf3n-de-bases-de-datos",level:3},{value:"Visualizaci\xf3n de datos",id:"visualizaci\xf3n-de-datos",level:3},{value:"Operaciones disponibles",id:"operaciones-disponibles",level:2},{value:"An\xe1lisis de esquema",id:"an\xe1lisis-de-esquema",level:2},{value:"Depuraci\xf3n de transacciones",id:"depuraci\xf3n-de-transacciones",level:2},{value:"L\xedmites y consideraciones",id:"l\xedmites-y-consideraciones",level:2},{value:"Patrones comunes y ejemplos",id:"patrones-comunes-y-ejemplos",level:2},{value:"Estructura b\xe1sica de c\xf3digo",id:"estructura-b\xe1sica-de-c\xf3digo",level:3},{value:"Soluci\xf3n de problemas comunes",id:"soluci\xf3n-de-problemas-comunes",level:2},{value:"Buenas pr\xe1cticas",id:"buenas-pr\xe1cticas",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"indexeddb",children:"IndexedDB"})}),"\n",(0,i.jsx)(n.p,{children:"IndexedDB es una API de almacenamiento del lado del cliente que permite almacenar grandes cantidades de datos estructurados, incluyendo archivos y blobs. Proporciona capacidades de b\xfasqueda avanzada y es ideal para aplicaciones offline."}),"\n",(0,i.jsx)(n.h2,{id:"acceso-al-panel-de-indexeddb",children:"Acceso al panel de IndexedDB"}),"\n",(0,i.jsx)(n.p,{children:"Para inspeccionar y administrar bases de datos IndexedDB:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Abre DevTools (F12 o Ctrl+Shift+I / Cmd+Option+I)"}),"\n",(0,i.jsx)(n.li,{children:'Navega a la pesta\xf1a "Application"'}),"\n",(0,i.jsx)(n.li,{children:'Expande la secci\xf3n "IndexedDB" en el panel lateral izquierdo'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(3347).A+"",width:"1365",height:"600"})}),"\n",(0,i.jsx)(n.h2,{id:"estructura-y-componentes",children:"Estructura y componentes"}),"\n",(0,i.jsx)(n.p,{children:"IndexedDB se organiza jer\xe1rquicamente:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bases de datos"}),": Contenedores principales identificados por nombre y versi\xf3n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Object Stores"}),": Similares a tablas en bases de datos relacionales"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\xcdndices"}),": Estructuras para optimizar b\xfasquedas"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Registros"}),": Pares clave-valor almacenados en los Object Stores"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"interfaz-del-panel",children:"Interfaz del panel"}),"\n",(0,i.jsx)(n.p,{children:"El panel de IndexedDB en DevTools ofrece:"}),"\n",(0,i.jsx)(n.h3,{id:"navegaci\xf3n-de-bases-de-datos",children:"Navegaci\xf3n de bases de datos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lista de todas las bases de datos IndexedDB en el origen actual"}),"\n",(0,i.jsx)(n.li,{children:"Versi\xf3n de cada base de datos"}),"\n",(0,i.jsx)(n.li,{children:"Lista de Object Stores en cada base de datos"}),"\n",(0,i.jsx)(n.li,{children:"\xcdndices definidos para cada Object Store"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"visualizaci\xf3n-de-datos",children:"Visualizaci\xf3n de datos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Vista tabular de todos los registros en un Object Store"}),"\n",(0,i.jsx)(n.li,{children:"Valores formateados para tipos comunes (objetos, arrays, fechas)"}),"\n",(0,i.jsx)(n.li,{children:"B\xfasqueda y filtrado por valor de clave"}),"\n",(0,i.jsx)(n.li,{children:"Visualizaci\xf3n de metadatos (keyPath, autoIncrement)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"operaciones-disponibles",children:"Operaciones disponibles"}),"\n",(0,i.jsx)(n.p,{children:"El panel permite realizar varias acciones:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Refresh"}),": Actualiza la visualizaci\xf3n de datos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clear object store"}),": Elimina todos los registros de un Object Store"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Delete database"}),": Elimina completamente una base de datos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Edit value"}),": Modifica el valor de un registro existente (en algunos navegadores)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"an\xe1lisis-de-esquema",children:"An\xe1lisis de esquema"}),"\n",(0,i.jsx)(n.p,{children:"Para cada Object Store, puedes examinar:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"keyPath"}),": Ruta para extraer la clave del valor (similar a una clave primaria)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"autoIncrement"}),": Si las claves se generan autom\xe1ticamente"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\xcdndices"}),": Nombre, keyPath y propiedades (unique, multiEntry)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"depuraci\xf3n-de-transacciones",children:"Depuraci\xf3n de transacciones"}),"\n",(0,i.jsx)(n.p,{children:"Aunque las transacciones no son directamente visibles en el panel, puedes:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Establecer breakpoints en el c\xf3digo de IndexedDB"}),"\n",(0,i.jsx)(n.li,{children:"Inspeccionar el estado de transacciones activas durante la depuraci\xf3n"}),"\n",(0,i.jsx)(n.li,{children:"Verificar si los cambios se reflejan correctamente en la base de datos"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"l\xedmites-y-consideraciones",children:"L\xedmites y consideraciones"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Aspecto"}),(0,i.jsx)(n.th,{children:"Detalles"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Almacenamiento"}),(0,i.jsx)(n.td,{children:"Var\xeda seg\xfan navegador, generalmente con l\xedmites m\xe1s altos que localStorage"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Rendimiento"}),(0,i.jsx)(n.td,{children:"Mayor latencia para operaciones peque\xf1as, \xf3ptimo para grandes conjuntos de datos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Transacciones"}),(0,i.jsx)(n.td,{children:"Solo soporta transacciones de corta duraci\xf3n (no persistentes entre recargas)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Compatibilidad"}),(0,i.jsx)(n.td,{children:"Compatible con la mayor\xeda de navegadores modernos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Modelo de hilos"}),(0,i.jsx)(n.td,{children:"Bloqueante en el hilo principal, considerar Workers para operaciones intensivas"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"patrones-comunes-y-ejemplos",children:"Patrones comunes y ejemplos"}),"\n",(0,i.jsx)(n.h3,{id:"estructura-b\xe1sica-de-c\xf3digo",children:"Estructura b\xe1sica de c\xf3digo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Abrir o crear una base de datos\r\nconst request = indexedDB.open("MyDatabase", 1);\r\n\r\n// Manejar la actualizaci\xf3n de esquema\r\nrequest.onupgradeneeded = (event) => {\r\n  const db = event.target.result;\r\n  \r\n  // Crear Object Store con \xedndices\r\n  const store = db.createObjectStore("customers", { keyPath: "id" });\r\n  store.createIndex("name", "name", { unique: false });\r\n  store.createIndex("email", "email", { unique: true });\r\n};\r\n\r\n// Operaciones CRUD\r\nrequest.onsuccess = (event) => {\r\n  const db = event.target.result;\r\n  \r\n  // Ejemplo de transacci\xf3n de lectura\r\n  const transaction = db.transaction(["customers"], "readonly");\r\n  const store = transaction.objectStore("customers");\r\n  const nameIndex = store.index("name");\r\n  \r\n  // Consulta por \xedndice\r\n  const query = nameIndex.getAll("John");\r\n  \r\n  query.onsuccess = () => {\r\n    console.log(query.result); // Array de customers con name="John"\r\n  };\r\n};\n'})}),"\n",(0,i.jsx)(n.h2,{id:"soluci\xf3n-de-problemas-comunes",children:"Soluci\xf3n de problemas comunes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Problema"}),(0,i.jsx)(n.th,{children:"Soluci\xf3n"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Versi\xf3n incorrecta"}),(0,i.jsx)(n.td,{children:"Incrementa el n\xfamero de versi\xf3n al modificar el esquema"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Transacciones abortadas"}),(0,i.jsx)(n.td,{children:"Verifica errores y maneja excepciones en eventos onerror"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Problemas de rendimiento"}),(0,i.jsx)(n.td,{children:"Minimiza el n\xfamero de transacciones, agrupa operaciones relacionadas"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Bloqueos"}),(0,i.jsx)(n.td,{children:"Cierra transacciones lo antes posible para liberar bloqueos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Datos no visibles"}),(0,i.jsx)(n.td,{children:"Actualiza el panel con el bot\xf3n Refresh tras modificaciones program\xe1ticas"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"buenas-pr\xe1cticas",children:"Buenas pr\xe1cticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Utiliza transacciones con el m\xednimo alcance necesario"}),"\n",(0,i.jsx)(n.li,{children:"Implementa manejo adecuado de errores para todas las operaciones"}),"\n",(0,i.jsx)(n.li,{children:"Dise\xf1a un esquema eficiente con \xedndices para consultas frecuentes"}),"\n",(0,i.jsx)(n.li,{children:"Considera el uso de bibliotecas wrapper para simplificar operaciones (Dexie.js, idb)"}),"\n",(0,i.jsx)(n.li,{children:"Mant\xe9n la l\xf3gica de actualizaci\xf3n de esquema robusta para manejar migraciones"}),"\n",(0,i.jsx)(n.li,{children:"Almacena datos serializables (JSON) o utiliza estructuras clonables"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"IndexedDB es especialmente \xfatil para aplicaciones que necesitan almacenar grandes cantidades de datos estructurados en el cliente, como aplicaciones offline-first, editores de documentos, o cualquier caso que requiera capacidades avanzadas de b\xfasqueda y almacenamiento persistente."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var a=s(6540);const i={},r=a.createContext(i);function d(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);