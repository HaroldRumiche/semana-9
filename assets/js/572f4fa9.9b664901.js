"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[2711],{553:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"memory/tomar-snapshot","title":"C\xf3mo Tomar Snapshots de Memoria","description":"Los snapshots (instant\xe1neas) de memoria son capturas del estado completo del mont\xf3n de memoria JavaScript en un momento espec\xedfico. Permiten analizar qu\xe9 objetos est\xe1n ocupando espacio y c\xf3mo se relacionan entre s\xed.","source":"@site/docs/memory/tomar-snapshot.md","sourceDirName":"memory","slug":"/memory/tomar-snapshot","permalink":"/memory/tomar-snapshot","draft":false,"unlisted":false,"editUrl":"https://github.com/HaroldRumiche/semana-9/tree/main/docs/memory/tomar-snapshot.md","tags":[],"version":"current","lastUpdatedBy":"HaroldRumiche","lastUpdatedAt":1745307533000,"sidebarPosition":3,"frontMatter":{"id":"tomar-snapshot","title":"C\xf3mo Tomar Snapshots de Memoria","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Panel de Visi\xf3n General de Memoria","permalink":"/memory/overview-panel"},"next":{"title":"Comparaci\xf3n de Heap Snapshots (Heap Diff)","permalink":"/memory/heap-diff"}}');var o=n(4848),i=n(8453);const r={id:"tomar-snapshot",title:"C\xf3mo Tomar Snapshots de Memoria",sidebar_position:3},t="C\xf3mo Tomar Snapshots de Memoria",l={},c=[{value:"\xbfQu\xe9 es un Heap Snapshot?",id:"qu\xe9-es-un-heap-snapshot",level:2},{value:"Procedimiento para tomar un snapshot",id:"procedimiento-para-tomar-un-snapshot",level:2},{value:"Preparaci\xf3n previa a la captura",id:"preparaci\xf3n-previa-a-la-captura",level:2},{value:"Estrategias para m\xfaltiples snapshots",id:"estrategias-para-m\xfaltiples-snapshots",level:2},{value:"T\xe9cnica de los tres snapshots",id:"t\xe9cnica-de-los-tres-snapshots",level:3},{value:"Snapshot durante ciclos de uso",id:"snapshot-durante-ciclos-de-uso",level:3},{value:"Interpretaci\xf3n de un snapshot",id:"interpretaci\xf3n-de-un-snapshot",level:2},{value:"Vista Summary (Resumen)",id:"vista-summary-resumen",level:3},{value:"Vista Comparison (Comparaci\xf3n)",id:"vista-comparison-comparaci\xf3n",level:3},{value:"Vista Containment (Contenci\xf3n)",id:"vista-containment-contenci\xf3n",level:3},{value:"Vista Dominators (Dominadores)",id:"vista-dominators-dominadores",level:3},{value:"Consejos pr\xe1cticos",id:"consejos-pr\xe1cticos",level:2}];function d(e){const s={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"c\xf3mo-tomar-snapshots-de-memoria",children:"C\xf3mo Tomar Snapshots de Memoria"})}),"\n",(0,o.jsx)(s.p,{children:"Los snapshots (instant\xe1neas) de memoria son capturas del estado completo del mont\xf3n de memoria JavaScript en un momento espec\xedfico. Permiten analizar qu\xe9 objetos est\xe1n ocupando espacio y c\xf3mo se relacionan entre s\xed."}),"\n",(0,o.jsx)(s.h2,{id:"qu\xe9-es-un-heap-snapshot",children:"\xbfQu\xe9 es un Heap Snapshot?"}),"\n",(0,o.jsx)(s.p,{children:"Un heap snapshot (instant\xe1nea del mont\xf3n) captura:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Todos los objetos JavaScript en memoria"}),"\n",(0,o.jsx)(s.li,{children:"Sus propiedades y valores"}),"\n",(0,o.jsx)(s.li,{children:"Las relaciones entre objetos (qui\xe9n referencia a qui\xe9n)"}),"\n",(0,o.jsx)(s.li,{children:"El tama\xf1o ocupado por cada objeto"}),"\n",(0,o.jsx)(s.li,{children:"Informaci\xf3n sobre los constructores utilizados"}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"procedimiento-para-tomar-un-snapshot",children:"Procedimiento para tomar un snapshot"}),"\n",(0,o.jsx)(s.p,{children:"Para capturar una instant\xe1nea del mont\xf3n de memoria:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Abre el panel de Memoria en DevTools"}),"\n",(0,o.jsx)(s.li,{children:'Selecciona la opci\xf3n "Heap snapshot" en el selector de tipo de perfil'}),"\n",(0,o.jsx)(s.li,{children:'Haz clic en el bot\xf3n "Take snapshot" (el bot\xf3n circular de grabaci\xf3n)'}),"\n",(0,o.jsx)(s.li,{children:"Espera a que se complete el proceso de captura y an\xe1lisis"}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"El proceso puede tardar desde unos segundos hasta varios minutos, dependiendo de la cantidad de memoria utilizada por la aplicaci\xf3n."}),"\n",(0,o.jsx)(s.h2,{id:"preparaci\xf3n-previa-a-la-captura",children:"Preparaci\xf3n previa a la captura"}),"\n",(0,o.jsx)(s.p,{children:"Para obtener resultados \xf3ptimos, antes de tomar un snapshot:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Limpia la memoria"}),': Haz clic en el bot\xf3n "Collect garbage" (icono de papelera) para forzar la recolecci\xf3n de basura']}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Establece un estado conocido"}),": Coloca tu aplicaci\xf3n en el estado espec\xedfico que deseas analizar"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Cierra pesta\xf1as innecesarias"}),": Minimiza la interferencia de otras p\xe1ginas abiertas"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Deshabilita extensiones"}),": Las extensiones del navegador pueden afectar los resultados"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Considera usar el modo inc\xf3gnito"}),": Para un entorno m\xe1s limpio"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"estrategias-para-m\xfaltiples-snapshots",children:"Estrategias para m\xfaltiples snapshots"}),"\n",(0,o.jsx)(s.p,{children:"Para detectar problemas de memoria efectivamente:"}),"\n",(0,o.jsx)(s.h3,{id:"t\xe9cnica-de-los-tres-snapshots",children:"T\xe9cnica de los tres snapshots"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshot inicial"}),": Captura el estado base de la aplicaci\xf3n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshot tras la acci\xf3n"}),": Realiza la acci\xf3n sospechosa y captura otro snapshot"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshot tras limpieza"}),": Fuerza la recolecci\xf3n de basura y captura un tercer snapshot"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Si hay una fuga de memoria, ver\xe1s objetos que permanecen en el tercer snapshot que deber\xedan haber sido liberados."}),"\n",(0,o.jsx)(s.h3,{id:"snapshot-durante-ciclos-de-uso",children:"Snapshot durante ciclos de uso"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshot de base"}),": Captura al iniciar la aplicaci\xf3n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshots intermedios"}),": Captura despu\xe9s de completar ciclos de uso"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Snapshot final"}),": Captura despu\xe9s de varios ciclos y limpieza"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Esta t\xe9cnica es \xfatil para detectar acumulaci\xf3n gradual de memoria durante el uso normal."}),"\n",(0,o.jsx)(s.h2,{id:"interpretaci\xf3n-de-un-snapshot",children:"Interpretaci\xf3n de un snapshot"}),"\n",(0,o.jsx)(s.p,{children:"Una vez capturado, el snapshot mostrar\xe1:"}),"\n",(0,o.jsx)(s.h3,{id:"vista-summary-resumen",children:"Vista Summary (Resumen)"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Constructor"}),": Nombre del constructor del objeto"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Distance"}),": Distancia desde la ra\xedz del \xe1rbol de objetos"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Shallow Size"}),": Tama\xf1o directo del objeto (sin incluir referencias)"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Retained Size"}),": Tama\xf1o total incluyendo todos los objetos que solo este objeto mantiene en memoria"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"vista-comparison-comparaci\xf3n",children:"Vista Comparison (Comparaci\xf3n)"}),"\n",(0,o.jsx)(s.p,{children:"Aparece al seleccionar dos snapshots y muestra:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"New"}),": Objetos nuevos en el segundo snapshot"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Deleted"}),": Objetos eliminados desde el primer snapshot"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Delta"}),": Cambio en el n\xfamero de instancias o tama\xf1o"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"vista-containment-contenci\xf3n",children:"Vista Containment (Contenci\xf3n)"}),"\n",(0,o.jsx)(s.p,{children:"Muestra la estructura jer\xe1rquica de objetos:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Window"}),": El objeto global"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"GC roots"}),": Referencias directas desde el recolector de basura"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Native objects"}),": Objetos del navegador que no son directamente JavaScript"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"vista-dominators-dominadores",children:"Vista Dominators (Dominadores)"}),"\n",(0,o.jsx)(s.p,{children:"Muestra objetos ordenados por tama\xf1o retenido, ayudando a identificar los objetos que impiden la liberaci\xf3n de grandes bloques de memoria."}),"\n",(0,o.jsx)(s.h2,{id:"consejos-pr\xe1cticos",children:"Consejos pr\xe1cticos"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Nombres significativos"}),": Al tomar m\xfaltiples snapshots, haz clic derecho sobre ellos para renombrarlos con nombres descriptivos"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Uso de filtros"}),": Utiliza el campo de b\xfasqueda para filtrar objetos por nombre o por tama\xf1o utilizando operadores (>1000)"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"An\xe1lisis por constructores"}),": Comienza analizando los objetos agrupados por constructor para identificar patrones"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Exportaci\xf3n para an\xe1lisis offline"}),": Puedes guardar tus snapshots para an\xe1lisis posterior usando el men\xfa contextual"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Tama\xf1o de referencia"}),": Una aplicaci\xf3n t\xedpica puede ocupar entre 5-50MB de memoria; valores muy superiores podr\xedan indicar problemas"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"En la siguiente secci\xf3n, exploraremos c\xf3mo comparar snapshots para identificar fugas de memoria de manera eficiente."})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>t});var a=n(6540);const o={},i=a.createContext(o);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);