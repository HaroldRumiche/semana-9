"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[2582],{1331:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"headers-seguridad","title":"Headers de Seguridad HTTP","description":"Los headers de seguridad HTTP son directivas que el servidor env\xeda al navegador para mejorar la postura de seguridad de un sitio web. El inspector de elementos permite analizar y verificar estos headers en cada respuesta.","source":"@site/security/headers-seguridad.md","sourceDirName":".","slug":"/headers-seguridad","permalink":"/security/headers-seguridad","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"headers-seguridad","sidebar_position":5},"sidebar":"docs","previous":{"title":"\ud83d\udcdc Pol\xedticas de Contenido","permalink":"/security/politicas-contenido"},"next":{"title":"\u26a0\ufe0f Advertencias Comunes","permalink":"/security/advertencias-comunes"}}');var s=r(4848),a=r(8453);const o={id:"headers-seguridad",sidebar_position:5},l="Headers de Seguridad HTTP",d={},c=[{value:"Headers principales",id:"headers-principales",level:2},{value:"Strict-Transport-Security (HSTS)",id:"strict-transport-security-hsts",level:3},{value:"X-Content-Type-Options",id:"x-content-type-options",level:3},{value:"X-Frame-Options",id:"x-frame-options",level:3},{value:"X-XSS-Protection",id:"x-xss-protection",level:3},{value:"Referrer-Policy",id:"referrer-policy",level:3},{value:"Permissions-Policy (anteriormente Feature-Policy)",id:"permissions-policy-anteriormente-feature-policy",level:3},{value:"Cache-Control",id:"cache-control",level:3},{value:"An\xe1lisis en el inspector",id:"an\xe1lisis-en-el-inspector",level:2},{value:"Evaluaci\xf3n de implementaci\xf3n",id:"evaluaci\xf3n-de-implementaci\xf3n",level:2},{value:"Problemas comunes",id:"problemas-comunes",level:2},{value:"Configuraci\xf3n por servidor",id:"configuraci\xf3n-por-servidor",level:2},{value:"Apache",id:"apache",level:3},{value:"Nginx",id:"nginx",level:3},{value:"Configuraci\xf3n program\xe1tica",id:"configuraci\xf3n-program\xe1tica",level:3},{value:"Mejores pr\xe1cticas",id:"mejores-pr\xe1cticas",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"headers-de-seguridad-http",children:"Headers de Seguridad HTTP"})}),"\n",(0,s.jsx)(n.p,{children:"Los headers de seguridad HTTP son directivas que el servidor env\xeda al navegador para mejorar la postura de seguridad de un sitio web. El inspector de elementos permite analizar y verificar estos headers en cada respuesta."}),"\n",(0,s.jsx)(n.h2,{id:"headers-principales",children:"Headers principales"}),"\n",(0,s.jsx)(n.h3,{id:"strict-transport-security-hsts",children:"Strict-Transport-Security (HSTS)"}),"\n",(0,s.jsx)(n.p,{children:"Fuerza las conexiones HTTPS, incluso antes del primer contacto."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"max-age"}),": Duraci\xf3n en segundos que el navegador recordar\xe1 usar HTTPS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"includeSubDomains"}),": Aplica la pol\xedtica a subdominios"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"preload"}),": Indica que el sitio puede incluirse en la lista HSTS precompilada"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"x-content-type-options",children:"X-Content-Type-Options"}),"\n",(0,s.jsx)(n.p,{children:"Previene el MIME-sniffing, forzando a los navegadores a utilizar el tipo de contenido declarado."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"X-Content-Type-Options: nosniff\n"})}),"\n",(0,s.jsx)(n.h3,{id:"x-frame-options",children:"X-Frame-Options"}),"\n",(0,s.jsx)(n.p,{children:"Controla si una p\xe1gina puede ser embebida en frames, iframes o objetos, protegiendo contra ataques de clickjacking."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"X-Frame-Options: DENY\r\nX-Frame-Options: SAMEORIGIN\r\nX-Frame-Options: ALLOW-FROM https://ejemplo.com\n"})}),"\n",(0,s.jsx)(n.h3,{id:"x-xss-protection",children:"X-XSS-Protection"}),"\n",(0,s.jsx)(n.p,{children:"Habilita filtros contra XSS en navegadores antiguos (los modernos utilizan CSP)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"X-XSS-Protection: 1; mode=block\n"})}),"\n",(0,s.jsx)(n.h3,{id:"referrer-policy",children:"Referrer-Policy"}),"\n",(0,s.jsx)(n.p,{children:"Controla qu\xe9 informaci\xf3n de referencia se incluye en las solicitudes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Referrer-Policy: no-referrer\r\nReferrer-Policy: strict-origin-when-cross-origin\n"})}),"\n",(0,s.jsx)(n.h3,{id:"permissions-policy-anteriormente-feature-policy",children:"Permissions-Policy (anteriormente Feature-Policy)"}),"\n",(0,s.jsx)(n.p,{children:"Controla qu\xe9 caracter\xedsticas del navegador pueden utilizarse."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Permissions-Policy: camera=(), microphone=(), geolocation=(self)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cache-control",children:"Cache-Control"}),"\n",(0,s.jsx)(n.p,{children:"Gestiona el almacenamiento en cach\xe9 de recursos sensibles."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Cache-Control: no-store, max-age=0\n"})}),"\n",(0,s.jsx)(n.h2,{id:"an\xe1lisis-en-el-inspector",children:"An\xe1lisis en el inspector"}),"\n",(0,s.jsx)(n.p,{children:"Para verificar headers de seguridad:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Abre el panel Network"}),"\n",(0,s.jsx)(n.li,{children:"Selecciona una solicitud"}),"\n",(0,s.jsx)(n.li,{children:"Revisa la pesta\xf1a Headers"}),"\n",(0,s.jsx)(n.li,{children:"Examina los headers en la secci\xf3n Response Headers"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"evaluaci\xf3n-de-implementaci\xf3n",children:"Evaluaci\xf3n de implementaci\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"El panel Security proporciona una evaluaci\xf3n del conjunto de headers implementados:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementaci\xf3n completa"}),": Todos los headers cr\xedticos est\xe1n presentes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementaci\xf3n parcial"}),": Faltan algunos headers recomendados"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementaci\xf3n m\xednima"}),": Protecci\xf3n b\xe1sica solamente"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementaci\xf3n insuficiente"}),": Faltan headers cr\xedticos"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"problemas-comunes",children:"Problemas comunes"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Problema"}),(0,s.jsx)(n.th,{children:"Posible soluci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Headers inconsistentes entre recursos"}),(0,s.jsx)(n.td,{children:"Configurar servidor para aplicar headers globalmente"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Valores d\xe9biles o mal configurados"}),(0,s.jsx)(n.td,{children:"Revisar las recomendaciones actuales de OWASP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Headers duplicados"}),(0,s.jsx)(n.td,{children:"Consolidar configuraciones en el servidor"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Headers obsoletos"}),(0,s.jsx)(n.td,{children:"Actualizar a alternativas modernas"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"configuraci\xf3n-por-servidor",children:"Configuraci\xf3n por servidor"}),"\n",(0,s.jsx)(n.h3,{id:"apache",children:"Apache"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-apache",children:'<IfModule mod_headers.c>\r\n    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"\r\n    Header always set X-Content-Type-Options "nosniff"\r\n    Header always set X-Frame-Options "SAMEORIGIN"\r\n    Header always set Referrer-Policy "strict-origin-when-cross-origin"\r\n</IfModule>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"nginx",children:"Nginx"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nginx",children:'add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;\r\nadd_header X-Content-Type-Options "nosniff" always;\r\nadd_header X-Frame-Options "SAMEORIGIN" always;\r\nadd_header Referrer-Policy "strict-origin-when-cross-origin" always;\n'})}),"\n",(0,s.jsx)(n.h3,{id:"configuraci\xf3n-program\xe1tica",children:"Configuraci\xf3n program\xe1tica"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Express.js\r\nconst helmet = require('helmet');\r\napp.use(helmet());\n"})}),"\n",(0,s.jsx)(n.h2,{id:"mejores-pr\xe1cticas",children:"Mejores pr\xe1cticas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Implementar todos los headers cr\xedticos de seguridad"}),"\n",(0,s.jsx)(n.li,{children:"Verificar que se apliquen a todos los recursos, no solo HTML"}),"\n",(0,s.jsx)(n.li,{children:"Comprobar la implementaci\xf3n con herramientas de an\xe1lisis autom\xe1tico"}),"\n",(0,s.jsx)(n.li,{children:"Mantener headers actualizados seg\xfan evolucionen los est\xe1ndares"}),"\n",(0,s.jsx)(n.li,{children:"Combinar headers de seguridad con otras medidas como CSP"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var i=r(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);