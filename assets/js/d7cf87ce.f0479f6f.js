"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[8704],{305:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"configuraciones-avanzadas","title":"Configuraciones Avanzadas de Seguridad","description":"Esta secci\xf3n cubre t\xe9cnicas y configuraciones avanzadas para mejorar la seguridad de aplicaciones web utilizando el inspector de elementos como herramienta de an\xe1lisis y verificaci\xf3n.","source":"@site/security/configuraciones-avanzadas.md","sourceDirName":".","slug":"/configuraciones-avanzadas","permalink":"/security/configuraciones-avanzadas","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"configuraciones-avanzadas","sidebar_position":8},"sidebar":"docs","previous":{"title":"\ud83d\udca1 Recomendaciones Pr\xe1cticas","permalink":"/security/recomendaciones-practicas"}}');var s=i(4848),c=i(8453);const a={id:"configuraciones-avanzadas",sidebar_position:8},l="Configuraciones Avanzadas de Seguridad",d={},o=[{value:"Configuraci\xf3n avanzada de HTTPS",id:"configuraci\xf3n-avanzada-de-https",level:2},{value:"OCSP Stapling",id:"ocsp-stapling",level:3},{value:"Certificate Transparency",id:"certificate-transparency",level:3},{value:"HPKP (con precauci\xf3n)",id:"hpkp-con-precauci\xf3n",level:3},{value:"CSP avanzada",id:"csp-avanzada",level:2},{value:"Nonces y hashes",id:"nonces-y-hashes",level:3},{value:"Directivas modernas",id:"directivas-modernas",level:3},{value:"CSP en meta tags",id:"csp-en-meta-tags",level:3},{value:"Subresource Integrity (SRI)",id:"subresource-integrity-sri",level:2},{value:"Configuraci\xf3n de Fetch Metadata",id:"configuraci\xf3n-de-fetch-metadata",level:2},{value:"Cross-Origin Resource Policy (CORP)",id:"cross-origin-resource-policy-corp",level:2},{value:"Cross-Origin Opener Policy (COOP)",id:"cross-origin-opener-policy-coop",level:2},{value:"Cross-Origin Embedder Policy (COEP)",id:"cross-origin-embedder-policy-coep",level:2},{value:"An\xe1lisis avanzado con el inspector",id:"an\xe1lisis-avanzado-con-el-inspector",level:2},{value:"Depuraci\xf3n de Trusted Types",id:"depuraci\xf3n-de-trusted-types",level:3},{value:"An\xe1lisis de WebAssembly",id:"an\xe1lisis-de-webassembly",level:3},{value:"Inspecci\xf3n de Service Workers",id:"inspecci\xf3n-de-service-workers",level:3},{value:"Hardening adicional",id:"hardening-adicional",level:2},{value:"Secure DevTools",id:"secure-devtools",level:3},{value:"Ofuscaci\xf3n selectiva",id:"ofuscaci\xf3n-selectiva",level:3},{value:"Verificaci\xf3n de seguridad con el inspector",id:"verificaci\xf3n-de-seguridad-con-el-inspector",level:2},{value:"Auditor\xeda de seguridad con Lighthouse",id:"auditor\xeda-de-seguridad-con-lighthouse",level:3},{value:"An\xe1lisis de vulnerabilidades con la consola",id:"an\xe1lisis-de-vulnerabilidades-con-la-consola",level:3},{value:"Verificaci\xf3n de cookies seguras",id:"verificaci\xf3n-de-cookies-seguras",level:3},{value:"Detecci\xf3n de ataques con el inspector",id:"detecci\xf3n-de-ataques-con-el-inspector",level:2},{value:"Identificaci\xf3n de XSS",id:"identificaci\xf3n-de-xss",level:3},{value:"Detecci\xf3n de clickjacking",id:"detecci\xf3n-de-clickjacking",level:3},{value:"An\xe1lisis de CSRF",id:"an\xe1lisis-de-csrf",level:3},{value:"Conclusi\xf3n",id:"conclusi\xf3n",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configuraciones-avanzadas-de-seguridad",children:"Configuraciones Avanzadas de Seguridad"})}),"\n",(0,s.jsx)(n.p,{children:"Esta secci\xf3n cubre t\xe9cnicas y configuraciones avanzadas para mejorar la seguridad de aplicaciones web utilizando el inspector de elementos como herramienta de an\xe1lisis y verificaci\xf3n."}),"\n",(0,s.jsx)(n.h2,{id:"configuraci\xf3n-avanzada-de-https",children:"Configuraci\xf3n avanzada de HTTPS"}),"\n",(0,s.jsx)(n.h3,{id:"ocsp-stapling",children:"OCSP Stapling"}),"\n",(0,s.jsx)(n.p,{children:"Mejora la privacidad y rendimiento de la verificaci\xf3n de certificados."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nginx",children:"# Ejemplo en Nginx\r\nssl_stapling on;\r\nssl_stapling_verify on;\r\nssl_trusted_certificate /path/to/ca-certs.pem;\r\nresolver 8.8.8.8 8.8.4.4 valid=300s;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"certificate-transparency",children:"Certificate Transparency"}),"\n",(0,s.jsx)(n.p,{children:"Implementa registros CT para detectar certificados fraudulentos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Expect-CT: max-age=86400, enforce, report-uri="https://example.com/report-ct"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"hpkp-con-precauci\xf3n",children:"HPKP (con precauci\xf3n)"}),"\n",(0,s.jsx)(n.p,{children:"HTTP Public Key Pinning protege contra certificados falsificados:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Public-Key-Pins: pin-sha256="base64=="; pin-sha256="base64=="; max-age=5184000; includeSubDomains\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Nota"}),": Implementar HPKP con extrema precauci\xf3n, pues puede bloquear acceso al sitio si se configura incorrectamente."]}),"\n",(0,s.jsx)(n.h2,{id:"csp-avanzada",children:"CSP avanzada"}),"\n",(0,s.jsx)(n.h3,{id:"nonces-y-hashes",children:"Nonces y hashes"}),"\n",(0,s.jsx)(n.p,{children:"Para permitir scripts inline espec\xedficos sin 'unsafe-inline':"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script nonce="2726c7f26c">\r\n  // Script seguro\r\n<\/script>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Content-Security-Policy: script-src 'self' 'nonce-2726c7f26c'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Para scripts est\xe1ticos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Content-Security-Policy: script-src 'self' 'sha256-qznLcsROx4GACP2dm0UCKCzCG+HiZ1guq6ZZDob/Tng='\n"})}),"\n",(0,s.jsx)(n.h3,{id:"directivas-modernas",children:"Directivas modernas"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Content-Security-Policy:\r\n  script-src 'self';\r\n  style-src 'self';\r\n  img-src 'self';\r\n  font-src 'self';\r\n  connect-src 'self';\r\n  frame-ancestors 'none';\r\n  base-uri 'self';\r\n  form-action 'self';\r\n  object-src 'none';\r\n  require-trusted-types-for 'script';\r\n  trusted-types default;\r\n  upgrade-insecure-requests;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"csp-en-meta-tags",children:"CSP en meta tags"}),"\n",(0,s.jsx)(n.p,{children:"Para sitios sin acceso a configuraci\xf3n de servidor:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="Content-Security-Policy" content="default-src \'self\'">\n'})}),"\n",(0,s.jsx)(n.h2,{id:"subresource-integrity-sri",children:"Subresource Integrity (SRI)"}),"\n",(0,s.jsx)(n.p,{children:"Verifica la integridad de recursos externos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.example.com/script.js" \r\n  integrity="sha384-oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K/uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC" \r\n  crossorigin="anonymous">\r\n<\/script>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Verifica la implementaci\xf3n con el inspector:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Panel Elements > Ver atributos del elemento script"}),"\n",(0,s.jsx)(n.li,{children:"Panel Network > Ver si la integridad se verific\xf3 correctamente"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuraci\xf3n-de-fetch-metadata",children:"Configuraci\xf3n de Fetch Metadata"}),"\n",(0,s.jsx)(n.p,{children:"Protecci\xf3n contra ataques CSRF y abuso de recursos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Sec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-User: ?1\r\nSec-Fetch-Dest: document\n"})}),"\n",(0,s.jsx)(n.p,{children:"Implementaci\xf3n con pol\xedticas en el servidor:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Ejemplo de pol\xedtica de aislamiento\r\nif (request.headers['sec-fetch-site'] != 'same-origin' &&\r\n    (request.headers['sec-fetch-dest'] == 'document' ||\r\n     request.method == 'POST')) {\r\n  return forbidden();\r\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"cross-origin-resource-policy-corp",children:"Cross-Origin Resource Policy (CORP)"}),"\n",(0,s.jsx)(n.p,{children:"Protecci\xf3n contra ataques de filtraci\xf3n de informaci\xf3n:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Cross-Origin-Resource-Policy: same-origin\n"})}),"\n",(0,s.jsx)(n.h2,{id:"cross-origin-opener-policy-coop",children:"Cross-Origin Opener Policy (COOP)"}),"\n",(0,s.jsx)(n.p,{children:"Aislamiento de sitios cruzados:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Cross-Origin-Opener-Policy: same-origin\n"})}),"\n",(0,s.jsx)(n.h2,{id:"cross-origin-embedder-policy-coep",children:"Cross-Origin Embedder Policy (COEP)"}),"\n",(0,s.jsx)(n.p,{children:"Controla qu\xe9 recursos pueden incrustarse:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Cross-Origin-Embedder-Policy: require-corp\n"})}),"\n",(0,s.jsx)(n.h2,{id:"an\xe1lisis-avanzado-con-el-inspector",children:"An\xe1lisis avanzado con el inspector"}),"\n",(0,s.jsx)(n.h3,{id:"depuraci\xf3n-de-trusted-types",children:"Depuraci\xf3n de Trusted Types"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Habilitar CSP con require-trusted-types-for"}),"\n",(0,s.jsx)(n.li,{children:"Usar la consola para depurar violaciones de Trusted Types"}),"\n",(0,s.jsx)(n.li,{children:"Verificar la creaci\xf3n de pol\xedticas de confianza"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"an\xe1lisis-de-webassembly",children:"An\xe1lisis de WebAssembly"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Examinar m\xf3dulos WASM cargados en la aplicaci\xf3n"}),"\n",(0,s.jsx)(n.li,{children:"Verificar fuentes e integridad de estos m\xf3dulos"}),"\n",(0,s.jsx)(n.li,{children:"Comprobar que solo se cargan desde or\xedgenes confiables"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inspecci\xf3n-de-service-workers",children:"Inspecci\xf3n de Service Workers"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Abrir la pesta\xf1a Application"}),"\n",(0,s.jsx)(n.li,{children:"Examinar Service Workers registrados"}),"\n",(0,s.jsx)(n.li,{children:"Verificar el origen y alcance de cada Service Worker"}),"\n",(0,s.jsx)(n.li,{children:"Comprobar las pol\xedticas de actualizaci\xf3n"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hardening-adicional",children:"Hardening adicional"}),"\n",(0,s.jsx)(n.h3,{id:"secure-devtools",children:"Secure DevTools"}),"\n",(0,s.jsx)(n.p,{children:"Configura el servidor para detectar y bloquear intentos de manipulaci\xf3n v\xeda DevTools:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Detecci\xf3n de DevTools abiertos (implementar con precauci\xf3n)\r\nconst devToolsOpen = () => {\r\n  const threshold = 160;\r\n  return window.outerWidth - window.innerWidth > threshold ||\r\n         window.outerHeight - window.innerHeight > threshold;\r\n};\r\n\r\n// Acci\xf3n al detectar DevTools\r\nif (devToolsOpen()) {\r\n  // Registro de evento o acci\xf3n defensiva\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ofuscaci\xf3n-selectiva",children:"Ofuscaci\xf3n selectiva"}),"\n",(0,s.jsx)(n.p,{children:"Protege c\xf3digo sensible con ofuscaci\xf3n, verificable con el inspector:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Antes de ofuscaci\xf3n\r\nfunction validateToken(token) {\r\n  return token === storedToken;\r\n}\r\n\r\n// Despu\xe9s de ofuscaci\xf3n (ejemplo simplificado)\r\neval(function(p,a,c,k,e,d){e=function(c){return c};if(!''.replace(/^/,String)){while(c--){d[c]=k[c]||c}k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c])}}return p}('9 8(7){6 7===5}',10,10,'|||||storedToken|return|token|validateToken|function'.split('|'),0,{}))\n"})}),"\n",(0,s.jsx)(n.h2,{id:"verificaci\xf3n-de-seguridad-con-el-inspector",children:"Verificaci\xf3n de seguridad con el inspector"}),"\n",(0,s.jsx)(n.h3,{id:"auditor\xeda-de-seguridad-con-lighthouse",children:"Auditor\xeda de seguridad con Lighthouse"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Abre el inspector y navega a la pesta\xf1a Lighthouse"}),"\n",(0,s.jsx)(n.li,{children:'Selecciona la categor\xeda "Best Practices"'}),"\n",(0,s.jsx)(n.li,{children:"Ejecuta la auditor\xeda y revisa las recomendaciones de seguridad"}),"\n",(0,s.jsx)(n.li,{children:"Implementa las mejoras sugeridas y vuelve a verificar"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"an\xe1lisis-de-vulnerabilidades-con-la-consola",children:"An\xe1lisis de vulnerabilidades con la consola"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Monitorea la consola en busca de advertencias de seguridad"}),"\n",(0,s.jsx)(n.li,{children:"Verifica errores relacionados con CSP, CORS o SRI"}),"\n",(0,s.jsxs)(n.li,{children:["Utiliza ",(0,s.jsx)(n.code,{children:"console.table()"})," para registrar y analizar intentos de acceso sospechosos:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Implementaci\xf3n de monitoreo de seguridad\r\nfunction securityMonitor() {\r\n  const events = [];\r\n  document.addEventListener('submit', e => {\r\n    events.push({\r\n      type: 'form-submit',\r\n      target: e.target.action,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    console.table(events);\r\n  });\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"verificaci\xf3n-de-cookies-seguras",children:"Verificaci\xf3n de cookies seguras"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Abre la pesta\xf1a Application > Storage > Cookies"}),"\n",(0,s.jsxs)(n.li,{children:["Verifica que las cookies sensibles tengan los flags:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"HttpOnly"}),"\n",(0,s.jsx)(n.li,{children:"Secure"}),"\n",(0,s.jsx)(n.li,{children:"SameSite (Strict o Lax)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Comprueba fechas de expiraci\xf3n adecuadas"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"detecci\xf3n-de-ataques-con-el-inspector",children:"Detecci\xf3n de ataques con el inspector"}),"\n",(0,s.jsx)(n.h3,{id:"identificaci\xf3n-de-xss",children:"Identificaci\xf3n de XSS"}),"\n",(0,s.jsx)(n.p,{children:"Utiliza el inspector para verificar la correcta sanitizaci\xf3n de datos:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Inserta datos de prueba en formularios"}),"\n",(0,s.jsx)(n.li,{children:"Observa c\xf3mo se renderizan en el DOM"}),"\n",(0,s.jsx)(n.li,{children:"Verifica que los caracteres especiales est\xe9n correctamente codificados"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"detecci\xf3n-de-clickjacking",children:"Detecci\xf3n de clickjacking"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Inspecciona los headers de respuesta para verificar:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"X-Frame-Options: DENY\r\nContent-Security-Policy: frame-ancestors 'none'\n"})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Prueba la carga del sitio en un iframe para confirmar la protecci\xf3n"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"an\xe1lisis-de-csrf",children:"An\xe1lisis de CSRF"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Examina los tokens CSRF en formularios"}),"\n",(0,s.jsxs)(n.li,{children:["Verifica que los tokens sean:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xdanicos por sesi\xf3n"}),"\n",(0,s.jsx)(n.li,{children:"Validados en cada solicitud"}),"\n",(0,s.jsx)(n.li,{children:"No expuestos en URLs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"conclusi\xf3n",children:"Conclusi\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"El inspector de elementos es una herramienta fundamental para verificar la implementaci\xf3n correcta de configuraciones avanzadas de seguridad. Utiliz\xe1ndolo sistem\xe1ticamente, los desarrolladores pueden detectar y corregir vulnerabilidades antes de que sean explotadas."}),"\n",(0,s.jsx)(n.p,{children:"Recuerda que la seguridad es un proceso continuo que requiere monitoreo constante y adaptaci\xf3n a nuevas amenazas y t\xe9cnicas de protecci\xf3n."})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6540);const s={},c=r.createContext(s);function a(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);