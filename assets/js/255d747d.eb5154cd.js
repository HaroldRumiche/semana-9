"use strict";(self.webpackChunksemana_9=self.webpackChunksemana_9||[]).push([[9203],{1323:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"cache","title":"Cache Storage","description":"Cache Storage es una API que permite a los Service Workers y aplicaciones web almacenar pares de solicitud/respuesta HTTP para su uso posterior, especialmente en escenarios offline o con conexiones lentas.","source":"@site/application/cache.md","sourceDirName":".","slug":"/cache","permalink":"/application/cache","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"cache","sidebar_position":4},"sidebar":"docs","previous":{"title":"\u2699\ufe0f Service Workers","permalink":"/application/service-workers"},"next":{"title":"\ud83d\udcbe Storage","permalink":"/application/storage"}}');var c=s(4848),i=s(8453);const r={id:"cache",sidebar_position:4},l="Cache Storage",d={},t=[{value:"Acceso al panel de Cache Storage",id:"acceso-al-panel-de-cache-storage",level:2},{value:"Estructura y organizaci\xf3n",id:"estructura-y-organizaci\xf3n",level:2},{value:"Interfaz del panel Cache",id:"interfaz-del-panel-cache",level:3},{value:"Gesti\xf3n de cach\xe9s",id:"gesti\xf3n-de-cach\xe9s",level:2},{value:"Visualizaci\xf3n de recursos",id:"visualizaci\xf3n-de-recursos",level:3},{value:"Acciones disponibles",id:"acciones-disponibles",level:3},{value:"Uso con Service Workers",id:"uso-con-service-workers",level:2},{value:"Estrategias comunes de cach\xe9",id:"estrategias-comunes-de-cach\xe9",level:2},{value:"Versiones de cach\xe9",id:"versiones-de-cach\xe9",level:2},{value:"L\xedmites y consideraciones",id:"l\xedmites-y-consideraciones",level:2},{value:"Soluci\xf3n de problemas comunes",id:"soluci\xf3n-de-problemas-comunes",level:2},{value:"Buenas pr\xe1cticas",id:"buenas-pr\xe1cticas",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"cache-storage",children:"Cache Storage"})}),"\n",(0,c.jsx)(n.p,{children:"Cache Storage es una API que permite a los Service Workers y aplicaciones web almacenar pares de solicitud/respuesta HTTP para su uso posterior, especialmente en escenarios offline o con conexiones lentas."}),"\n",(0,c.jsx)(n.h2,{id:"acceso-al-panel-de-cache-storage",children:"Acceso al panel de Cache Storage"}),"\n",(0,c.jsx)(n.p,{children:"Para inspeccionar y administrar los cach\xe9s:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:"Abre DevTools (F12 o Ctrl+Shift+I / Cmd+Option+I)"}),"\n",(0,c.jsx)(n.li,{children:'Navega a la pesta\xf1a "Application"'}),"\n",(0,c.jsx)(n.li,{children:'Expande la secci\xf3n "Cache Storage" en el panel de almacenamiento'}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"estructura-y-organizaci\xf3n",children:"Estructura y organizaci\xf3n"}),"\n",(0,c.jsx)(n.p,{children:"Cache Storage est\xe1 organizado en:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Cach\xe9s"}),": Contenedores nombrados que agrupan recursos relacionados"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Entradas"}),": Pares de solicitud/respuesta almacenados dentro de cada cach\xe9"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"interfaz-del-panel-cache",children:"Interfaz del panel Cache"}),"\n",(0,c.jsx)(n.p,{children:"La interfaz muestra:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Lista de cach\xe9s disponibles en el dominio actual"}),"\n",(0,c.jsx)(n.li,{children:"N\xfamero total de entradas en cada cach\xe9"}),"\n",(0,c.jsx)(n.li,{children:"Vista detallada de los recursos almacenados en el cach\xe9 seleccionado"}),"\n",(0,c.jsx)(n.li,{children:"Tama\xf1o y tipo de cada recurso"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"gesti\xf3n-de-cach\xe9s",children:"Gesti\xf3n de cach\xe9s"}),"\n",(0,c.jsx)(n.p,{children:"El panel permite realizar varias operaciones:"}),"\n",(0,c.jsx)(n.h3,{id:"visualizaci\xf3n-de-recursos",children:"Visualizaci\xf3n de recursos"}),"\n",(0,c.jsx)(n.p,{children:"Para cada entrada en el cach\xe9, puedes ver:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"URL del recurso"}),"\n",(0,c.jsx)(n.li,{children:"Tipo de contenido"}),"\n",(0,c.jsx)(n.li,{children:"Tama\xf1o"}),"\n",(0,c.jsx)(n.li,{children:"Tiempo de creaci\xf3n/actualizaci\xf3n"}),"\n",(0,c.jsx)(n.li,{children:"Headers de la respuesta"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"acciones-disponibles",children:"Acciones disponibles"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Refresh"}),": Actualiza la lista de cach\xe9s y entradas"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Delete Cache"}),": Elimina un cach\xe9 completo"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Delete Entry"}),": Elimina una entrada espec\xedfica del cach\xe9"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Preview"}),": Previsualiza el contenido de una respuesta almacenada"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"uso-con-service-workers",children:"Uso con Service Workers"}),"\n",(0,c.jsx)(n.p,{children:"Cache Storage est\xe1 estrechamente relacionado con los Service Workers, y el panel permite:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Observar qu\xe9 recursos est\xe1n siendo almacenados por los Service Workers"}),"\n",(0,c.jsxs)(n.li,{children:["Verificar estrategias de precarga de cach\xe9 implementadas en el evento ",(0,c.jsx)(n.code,{children:"install"})]}),"\n",(0,c.jsx)(n.li,{children:"Comprobar si las respuestas servidas coinciden con las almacenadas en cach\xe9"}),"\n",(0,c.jsx)(n.li,{children:"Depurar problemas relacionados con el almacenamiento en cach\xe9"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"estrategias-comunes-de-cach\xe9",children:"Estrategias comunes de cach\xe9"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Estrategia"}),(0,c.jsx)(n.th,{children:"Implementaci\xf3n en Cache Storage"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Cache First"}),(0,c.jsxs)(n.td,{children:["Verifica primero en ",(0,c.jsx)(n.code,{children:"caches.match()"}),", luego usa ",(0,c.jsx)(n.code,{children:"fetch()"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Network First"}),(0,c.jsxs)(n.td,{children:["Usa ",(0,c.jsx)(n.code,{children:"fetch()"})," primero, almacena en cach\xe9 con ",(0,c.jsx)(n.code,{children:"cache.put()"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Stale-While-Revalidate"}),(0,c.jsx)(n.td,{children:"Sirve desde cach\xe9 mientras actualiza en segundo plano"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Cache Only"}),(0,c.jsxs)(n.td,{children:["Usa exclusivamente ",(0,c.jsx)(n.code,{children:"caches.match()"})," sin recurrir a la red"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Network Only"}),(0,c.jsxs)(n.td,{children:["Solo utiliza ",(0,c.jsx)(n.code,{children:"fetch()"})," sin interactuar con Cache Storage"]})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"versiones-de-cach\xe9",children:"Versiones de cach\xe9"}),"\n",(0,c.jsx)(n.p,{children:"Una pr\xe1ctica com\xfan es versionar los cach\xe9s para facilitar actualizaciones:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Ejemplo de versionado de cach\xe9\r\nconst CACHE_VERSION = 'v1';\r\nconst CACHE_NAME = `my-app-${CACHE_VERSION}`;\r\n\r\n// En evento activate, eliminar cach\xe9s antiguos\r\nself.addEventListener('activate', event => {\r\n  event.waitUntil(\r\n    caches.keys().then(cacheNames => {\r\n      return Promise.all(\r\n        cacheNames.filter(name => name.startsWith('my-app-') && name !== CACHE_NAME)\r\n          .map(name => caches.delete(name))\r\n      );\r\n    })\r\n  );\r\n});\n"})}),"\n",(0,c.jsx)(n.h2,{id:"l\xedmites-y-consideraciones",children:"L\xedmites y consideraciones"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Cuota de almacenamiento"}),": Var\xeda seg\xfan el navegador y el espacio disponible"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Persistencia"}),": Puede ser eliminado por el navegador si el espacio es limitado"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Pol\xedtica de mismo origen"}),": Solo puede almacenar recursos del mismo origen o con CORS habilitado"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Tipos de solicitud"}),": No todas las solicitudes son cacheables (como POST)"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"soluci\xf3n-de-problemas-comunes",children:"Soluci\xf3n de problemas comunes"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Problema"}),(0,c.jsx)(n.th,{children:"Soluci\xf3n"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Cach\xe9 no se actualiza"}),(0,c.jsx)(n.td,{children:"Verifica la l\xf3gica de actualizaci\xf3n en el Service Worker"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Recursos antiguos persistentes"}),(0,c.jsx)(n.td,{children:"Implementa una estrategia de versiones de cach\xe9"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Espacio insuficiente"}),(0,c.jsxs)(n.td,{children:["Utiliza ",(0,c.jsx)(n.code,{children:"navigator.storage.estimate()"})," para verificar el uso"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Recursos no cacheados"}),(0,c.jsx)(n.td,{children:"Verifica si las URLs son exactamente iguales (incluyendo par\xe1metros)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"Cach\xe9 corrupto"}),(0,c.jsx)(n.td,{children:"Elimina y recrea el cach\xe9 utilizando el panel"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"buenas-pr\xe1cticas",children:"Buenas pr\xe1cticas"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Versiona tus cach\xe9s para facilitar actualizaciones"}),"\n",(0,c.jsx)(n.li,{children:"Limpia cach\xe9s antiguos durante la activaci\xf3n del Service Worker"}),"\n",(0,c.jsx)(n.li,{children:"Establece un tiempo de vida (TTL) para recursos din\xe1micos"}),"\n",(0,c.jsx)(n.li,{children:"Almacena en cach\xe9 respuestas de red exitosas (status 200)"}),"\n",(0,c.jsx)(n.li,{children:"Proporciona respuestas de fallback para cuando un recurso no est\xe1 en cach\xe9 ni disponible en la red"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Cache Storage es una herramienta fundamental para implementar experiencias offline robustas y mejorar significativamente el rendimiento de aplicaciones web, especialmente en conexiones lentas o inestables."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var a=s(6540);const c={},i=a.createContext(c);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);